#include "mbed.h"

BusOut led(D6,D14,D8,D9,D10,D11,D12,D13);
BusIn sw(D5,D4,D3);
DigitalOut pw(D7);

int pat_1[20] = {1,2,4,8,16,32,64,128,1,2,4,8,16,32,64,128,255,0,255,0};
int pat_2[20] = {128,64,32,16,8,4,2,1,1,2,4,8,16,32,64,128,255,0,255,0};
int pat_3[20] = {255,0,255,254,252,248,240,224,192,128,0,128,192,224,240,248,252,254,255,0};
int pat_4[18] = {0,1,5,10,20,40,80,160,128,160,80,40,20,10,5,1,0,255};
int pat_5[8] = {129,66,36,24,36,66,129,255};
int pat_6[35] = {1,2,4,8,16,32,64,128,129,130,132,136,160,192,193,194,196,200,208,224,225,226,228,232,240,241,242,244,248,249,250,252,253,254,255};
int pat_7[9] = {255,231,195,129,0,129,195,231,255};
int pat_8[35] = {255,254,253,252,250,249,248,244,242,241,240,232,228,226,225,224,208,200,196,194,193,192,160,136,132,130,129,128,64,32,16,8,4,2,1};

int sww,max,x = 0;

int main() {
    while(1) {

        pw = 1;
        sww = sw.read();

        printf("%d \n",sww);

        if (sww == 0){
            led = pat_1[x];
            max = 20;
        }
        else if (sww == 1){
            led = pat_2[x];
            max = 20;
        }
        else if (sww == 2){
            led = pat_3[x];
            max = 20;
        }
        else if (sww == 3){
            led = pat_4[x];
            max = 18;
        }
        else if (sww==4){
          led = pat_5[x];
          max = 8;
        }
        else if (sww == 5){
          led = pat_6[x];
          max = 35;
        }
        else if (sww == 6){
          led = pat_7[x];
          max = 9;
        }
        else if (sww == 7){
          led = pat_8[x];
          max = 35;
        }

        wait(.1);
        x += 1;

        if (x >= max) {
          x = 0;
        }

    }
}
